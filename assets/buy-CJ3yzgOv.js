import{u as x,a as h,j as s,T as _,b as m,B as i,Y as r,c as w,L as g,H as j,d as v}from"./index-O347y4u9.js";import{B as f,T as S}from"./ton-connect-modal-Rbedf3Qs.js";const C="_buy__wrapper_1kl9d_1",N="_buy__back_1kl9d_10",B="_buy__back_icon_1kl9d_19",W="_buy__container_1kl9d_23",z="_buy__title_and_logo_1kl9d_30",M="_buy__title_1kl9d_30",T="_buy__heading_1kl9d_39",F="_buy__buy_rows_1kl9d_47",O="_buy__balance_1kl9d_52",H="_buy__balance_value_1kl9d_61",I="_buy__footer_connect_1kl9d_67",R="_buy__footer_connect_container_1kl9d_78",P="_buy__footer_connect_score_1kl9d_85",Y="_buy__footer_connect_tokens_1kl9d_91",K="_buy__footer_connect_wallet_1kl9d_96",n={buy__wrapper:C,buy__back:N,buy__back_icon:B,buy__container:W,buy__title_and_logo:z,buy__title:M,buy__heading:T,buy__buy_rows:F,buy__balance:O,buy__balance_value:H,buy__footer_connect:I,buy__footer_connect_container:R,buy__footer_connect_score:P,buy__footer_connect_tokens:Y,buy__footer_connect_wallet:K},p=[{id:1,countSpins:100,countWhisks:5},{id:2,countSpins:250,countWhisks:12},{id:3,countSpins:500,countWhisks:23},{id:4,countSpins:1e3,countWhisks:44}],U="_buy_row__wrapper_en39z_1",A="_buy_row__container_en39z_8",$="_buy_row__spins_en39z_13",q="_buy_row__whisks_en39z_18",c={buy_row__wrapper:U,buy_row__container:A,buy_row__spins:$,buy_row__whisks:q},E=l=>{const o=x({query:"(max-width: 600px)"}),{updateBonusSpins:e}=h(),{id:u,countSpin:a,countWhisk:b,userId:t}=l,k=async d=>{if(t){const y=await m(t,{countSpins:d});(y==null?void 0:y.status)===200?(e(d),i.success(`You bought ${d} spins`,{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:r})):i.error("Can't buy spins.",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:r})}else i.error("Can't buy spins.",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:r})};return s.jsx("div",{className:c.buy_row__wrapper,children:s.jsxs("div",{className:c.buy_row__container,children:[s.jsxs("div",{className:c.buy_row__spins,children:[s.jsx(_,{fontSize:o?"26px":"50px",fontFamily:"Roundy Rainbows, sans-serif",children:a}),s.jsx(_,{fontSize:o?"16px":"24px",fontFamily:"Montserrat, sans-serif",children:"spins"})]}),s.jsxs("div",{className:c.buy_row__whisks,children:[s.jsxs(_,{fontSize:o?"16px":"28px",fontFamily:"Montserrat, sans-serif",children:[b,"K"]}),s.jsx(_,{fontSize:o?"16px":"26px",fontFamily:"Montserrat, sans-serif",children:"WHISK"})]}),s.jsx(f,{onClick:()=>k(a),fontFamily:"Montserrat, sans-serif",height:o?"28px":"52px",fontSize:o?"14px":"28px",boxShadow:"0px 2px 2px rgba(0, 0, 0, 0.1), inset 0px 1px 1px rgb(255 161 161 / 60%), inset 0px -3px 2px rgba(0, 0, 0, 0.2)",text:"Buy now",fontWeight:"normal",width:"fit-content",textTransform:"none",borderRadius:"24px"})]})},u)},L="/whiskers/assets/back-arrow-BYp4F-0z.png",Q=()=>{const l=w(),o=x({query:"(max-width: 600px)"}),{userData:e,updateUnclaimedWhisks:u}=h(),a=()=>{l(-1)},b=()=>{e!=null&&e.userId&&v(e.userId).then(t=>{u(),t.status===200&&i.success(`You claimed ${e==null?void 0:e.unclaimedWhisks} whisks`,{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:r})}).catch(()=>{i.error("Cannot claim whisks. Try again",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:r})})};return s.jsx("div",{className:n.buy__wrapper,children:s.jsxs("div",{className:n.buy__container,children:[s.jsxs("div",{className:n.buy__title_and_logo,children:[s.jsx(g,{fontSize:"42px"}),s.jsx("span",{className:n.buy__title,children:s.jsx(j,{className:n.buy__heading,level:"h1",children:"Spin&Earn"})})]}),s.jsx(_,{fontSize:"16px",fontFamily:"Montserrat, sans-serif",children:"Buy bonus spins with WHISK"}),s.jsx("div",{className:n.buy__buy_rows,children:p&&p.map(t=>s.jsx(E,{id:t.id,countSpin:t.countSpins,countWhisk:t.countWhisks,userId:e==null?void 0:e.userId},t.id))}),s.jsxs("div",{className:n.buy__balance,children:[s.jsxs("div",{onClick:a,className:n.buy__back,children:[s.jsx("img",{src:L,className:n.buy__back_icon,alt:"back to main screen"}),s.jsx(_,{children:"Back"})]}),s.jsxs("div",{className:n.buy__balance_value,children:[s.jsx(_,{fontSize:"14px",fontFamily:"Montserrat, sans-serif",children:"Wallet balance"}),s.jsx(_,{fontSize:"16px",fontFamily:"Montserrat, sans-serif",children:"1.345.584 WHISK"})]})]}),s.jsx("div",{className:n.buy__footer_connect,children:s.jsxs("div",{className:n.buy__footer_connect_container,children:[s.jsxs("div",{className:n.buy__footer_connect_score,children:[s.jsx(_,{fontSize:o?"18px":"40px",children:"Unclaimed whisk"}),s.jsxs("div",{className:n.buy__footer_connect_tokens,children:[s.jsx(_,{fontSize:o?"30px":"50px",fontFamily:"Roundy Rainbows, sans-serif",children:(e==null?void 0:e.points)||0}),s.jsx(f,{onClick:b,fontFamily:"Montserrat, sans-serif",height:o?"24px":"42px",fontSize:o?"16px":"40px",backgroundColor:"#0080bb",text:"Claim tokens",fontWeight:"normal",width:"fit-content",textTransform:"none",borderRadius:"24px"})]})]}),s.jsx("div",{className:n.buy__footer_connect_wallet,children:s.jsx(S,{})})]})})]})})},V=()=>s.jsx(Q,{});export{V as default};
